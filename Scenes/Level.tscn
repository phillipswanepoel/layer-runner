[gd_scene load_steps=40 format=3 uid="uid://bms8uuxojgtle"]

[ext_resource type="Script" path="res://Scenes/Level.gd" id="1_hi33k"]
[ext_resource type="PackedScene" uid="uid://cjwq2iuhkem5" path="res://Scenes/Buildings/BuildingFG1.tscn" id="2_qdqot"]
[ext_resource type="PackedScene" uid="uid://bsbtm18fhi1fu" path="res://Scenes/Buildings/BuildingFG3_b.tscn" id="3_8uc6k"]
[ext_resource type="PackedScene" uid="uid://dl8j3e4ff4iuw" path="res://Scenes/Buildings/BuildingMG1.tscn" id="4_6cigh"]
[ext_resource type="PackedScene" uid="uid://dxne21x0ea6ht" path="res://Scenes/Buildings/BuildingFG4_b.tscn" id="4_mt2dv"]
[ext_resource type="PackedScene" uid="uid://b2qi7gfk2g4oy" path="res://Scenes/Buildings/BuildingFG5.tscn" id="6_hj8ur"]
[ext_resource type="PackedScene" uid="uid://jopj67sfeyd4" path="res://Scenes/Player.tscn" id="6_lh7b0"]
[ext_resource type="PackedScene" uid="uid://davwwc0gopfu8" path="res://Scenes/Buildings/BuildingBG1.tscn" id="6_x6g3h"]
[ext_resource type="PackedScene" uid="uid://ccdgfdwu6vuqj" path="res://Scenes/Buildings/BuildingFG6.tscn" id="7_1fdn6"]
[ext_resource type="PackedScene" uid="uid://d2shuh05agkkb" path="res://Scenes/Buildings/BuildingBG2.tscn" id="7_42axd"]
[ext_resource type="PackedScene" uid="uid://bjqq8h4wisnwg" path="res://Scenes/Buildings/BuildingFG7_b.tscn" id="7_uhcxe"]
[ext_resource type="PackedScene" uid="uid://dyiom864sked4" path="res://Scenes/Buildings/BuildingFG8_b.tscn" id="8_s141t"]
[ext_resource type="Script" path="res://Scenes/ParallaxBackgroundScroll.gd" id="8_syn6b"]
[ext_resource type="Texture2D" uid="uid://b1htek331jg1g" path="res://Assets/Backgrounds/Stars Background.png" id="8_y7bud"]
[ext_resource type="Texture2D" uid="uid://cb8w35sl2wgw0" path="res://Assets/Backgrounds/Clouds Background.png" id="9_jdmu5"]
[ext_resource type="PackedScene" uid="uid://6qtbsycu4utl" path="res://Scenes/Buildings/BuildingMG2_b.tscn" id="10_62587"]
[ext_resource type="PackedScene" uid="uid://d2rh0rl5xx8w2" path="res://Scenes/Buildings/BuildingMG3_b.tscn" id="11_fcsg1"]
[ext_resource type="PackedScene" uid="uid://cg40ouic3cm3v" path="res://Scenes/Buildings/BuildingMG4_b.tscn" id="12_lkhef"]
[ext_resource type="PackedScene" uid="uid://b4rp13ga5l4go" path="res://Scenes/Buildings/BuildingMG5.tscn" id="14_tg3fu"]
[ext_resource type="PackedScene" uid="uid://hkt5ccvolabb" path="res://Scenes/Buildings/BuildingMG6.tscn" id="15_6jfh0"]
[ext_resource type="PackedScene" uid="uid://dhsyra65autqd" path="res://Scenes/Buildings/BuildingBG3.tscn" id="18_qm8r5"]
[ext_resource type="PackedScene" uid="uid://cvdk844k0m0c2" path="res://Scenes/Buildings/BuildingBG4.tscn" id="19_dm54y"]
[ext_resource type="PackedScene" uid="uid://ywh2wiabvugm" path="res://Scenes/Buildings/BuildingBG5.tscn" id="20_cd36b"]
[ext_resource type="PackedScene" uid="uid://by540i5vyurk6" path="res://Scenes/Buildings/BuildingBG6.tscn" id="21_pi3ct"]
[ext_resource type="PackedScene" uid="uid://dck3wqdu83dns" path="res://Scenes/Buildings/BuildingBG7.tscn" id="22_egj70"]
[ext_resource type="PackedScene" uid="uid://bwxx1acu6nycg" path="res://Scenes/StartBuilding.tscn" id="26_6dkg1"]
[ext_resource type="PackedScene" uid="uid://batt6i6cbkfnt" path="res://Scenes/StartBuildingBG.tscn" id="26_h0awk"]
[ext_resource type="PackedScene" uid="uid://28xnsdqkn3k" path="res://Scenes/StartBuildingMG.tscn" id="27_3ftoj"]
[ext_resource type="Theme" uid="uid://dqk3bpubsidfh" path="res://Assets/GUI/theme_1.tres" id="28_43x3w"]
[ext_resource type="Script" path="res://Scenes/PathFollow2D.gd" id="28_l8fg3"]
[ext_resource type="AudioStream" uid="uid://cejermiugcq4w" path="res://Assets/Sound/Stefano Trezzi - Retro Beeps - 8bit Negative Alert.wav" id="32_as8vc"]

[sub_resource type="Curve2D" id="Curve2D_jqfty"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 360, 190, 0, 0, 0, 0, -500, 190)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_ooip8"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 360, 180, 0, 0, 0, 0, -500, 180)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_aaxsb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 360, 200, 0, 0, 0, 0, -500, 200)
}
point_count = 2

[sub_resource type="LabelSettings" id="LabelSettings_ry1ex"]
font_size = 8
shadow_size = 0

[sub_resource type="InputEventKey" id="InputEventKey_gthan"]
device = -1
keycode = 32
unicode = 32

[sub_resource type="Shortcut" id="Shortcut_ciqjb"]
events = [SubResource("InputEventKey_gthan")]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jbb60"]
size = Vector2(629.75, 110)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xl6fj"]
size = Vector2(205.5, 380.5)

[node name="Level" type="Node2D"]
script = ExtResource("1_hi33k")
fg_buildings = Array[PackedScene]([ExtResource("2_qdqot"), ExtResource("2_qdqot"), ExtResource("3_8uc6k"), ExtResource("3_8uc6k"), ExtResource("4_mt2dv"), ExtResource("4_mt2dv"), ExtResource("6_hj8ur"), ExtResource("7_1fdn6"), ExtResource("7_uhcxe"), ExtResource("7_uhcxe"), ExtResource("8_s141t"), ExtResource("8_s141t")])
mg_buildings = Array[PackedScene]([ExtResource("4_6cigh"), ExtResource("10_62587"), ExtResource("11_fcsg1"), ExtResource("12_lkhef"), ExtResource("14_tg3fu"), ExtResource("15_6jfh0"), ExtResource("4_6cigh"), ExtResource("10_62587"), ExtResource("14_tg3fu"), ExtResource("15_6jfh0")])
bg_buildings = Array[PackedScene]([ExtResource("6_x6g3h"), ExtResource("7_42axd"), ExtResource("18_qm8r5"), ExtResource("19_dm54y"), ExtResource("20_cd36b"), ExtResource("21_pi3ct"), ExtResource("22_egj70")])

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
script = ExtResource("8_syn6b")

[node name="Stars" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.05, 0.025)
motion_mirroring = Vector2(320, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Stars"]
texture = ExtResource("8_y7bud")
centered = false

[node name="Clouds" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.1, 0.05)
motion_mirroring = Vector2(320, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Clouds"]
texture = ExtResource("9_jdmu5")
centered = false
offset = Vector2(0, -15)

[node name="BG" type="CanvasLayer" parent="."]
layer = -3
follow_viewport_enabled = true

[node name="BGTimer" type="Timer" parent="BG"]
wait_time = 10.0
one_shot = true
autostart = true

[node name="Path2D" type="Path2D" parent="BG"]
position = Vector2(0, -5)
curve = SubResource("Curve2D_jqfty")

[node name="PathFollow2D" type="PathFollow2D" parent="BG/Path2D"]
position = Vector2(360, 190)
rotation = 3.14159
script = ExtResource("28_l8fg3")

[node name="StartBuilding" parent="BG/Path2D/PathFollow2D" groups=["start"] instance=ExtResource("26_h0awk")]
position = Vector2(360, 185)
rotation = 3.14159

[node name="CanvasModulate" type="CanvasModulate" parent="BG"]
color = Color(0.521569, 0.486275, 0.615686, 1)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="BG"]
shadow_enabled = true

[node name="MG" type="CanvasLayer" parent="."]
layer = -2
follow_viewport_enabled = true

[node name="MGTimer" type="Timer" parent="MG"]
wait_time = 5.0
one_shot = true
autostart = true

[node name="Path2D" type="Path2D" parent="MG"]
curve = SubResource("Curve2D_ooip8")

[node name="PathFollow2D" type="PathFollow2D" parent="MG/Path2D"]
position = Vector2(360, 180)
rotation = 3.14159
script = ExtResource("28_l8fg3")

[node name="StartBuilding" parent="MG/Path2D/PathFollow2D" groups=["start"] instance=ExtResource("27_3ftoj")]
position = Vector2(360, 180)
rotation = 3.14159

[node name="CanvasModulate" type="CanvasModulate" parent="MG"]
color = Color(0.54902, 0.596078, 0.67451, 1)

[node name="FG" type="CanvasLayer" parent="."]
layer = -1
follow_viewport_enabled = true

[node name="FGTimer" type="Timer" parent="FG"]
wait_time = 0.1
one_shot = true
autostart = true

[node name="Path2D" type="Path2D" parent="FG"]
position = Vector2(0, 5)
curve = SubResource("Curve2D_aaxsb")

[node name="PathFollow2D" type="PathFollow2D" parent="FG/Path2D"]
position = Vector2(360, 200)
rotation = 3.14159
script = ExtResource("28_l8fg3")

[node name="StartBuilding" parent="FG/Path2D/PathFollow2D" groups=["start"] instance=ExtResource("26_6dkg1")]
position = Vector2(359, 205)
rotation = 3.14159

[node name="Player" parent="FG" instance=ExtResource("6_lh7b0")]
position = Vector2(26.6667, 63.3333)

[node name="CanvasModulate3" type="CanvasModulate" parent="FG"]
color = Color(0.733333, 0.733333, 0.733333, 1)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(160, 90)

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ScoreLabel" type="Label" parent="Control"]
self_modulate = Color(1, 0.380392, 0.313726, 1)
layout_mode = 0
offset_left = 17.0
offset_top = 3.0
offset_right = 77.0
offset_bottom = 26.0
theme = ExtResource("28_43x3w")
text = "Score: 0
"
label_settings = SubResource("LabelSettings_ry1ex")

[node name="ScoreTimer" type="Timer" parent="Control/ScoreLabel"]
wait_time = 0.1
autostart = true

[node name="HiScoreLabel" type="Label" parent="Control"]
self_modulate = Color(1, 0.380392, 0.313726, 1)
layout_mode = 0
offset_left = 223.0
offset_top = 3.0
offset_right = 303.0
offset_bottom = 26.0
theme = ExtResource("28_43x3w")
theme_override_font_sizes/font_size = 4
text = "Hi Score: 0
"
label_settings = SubResource("LabelSettings_ry1ex")

[node name="Button" type="Button" parent="Control"]
visible = false
self_modulate = Color(0.603922, 0.34902, 0, 1)
layout_mode = 1
anchors_preset = -1
anchor_right = 3.4
anchor_bottom = 0.7
offset_left = 68.0
offset_top = 65.0
offset_right = 132.0
offset_bottom = 75.0
theme = ExtResource("28_43x3w")
theme_override_font_sizes/font_size = 24
disabled = true
action_mode = 0
shortcut = SubResource("Shortcut_ciqjb")
shortcut_feedback = false
shortcut_in_tooltip = false
text = "Restart?"
flat = true

[node name="BuildingGaps" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[node name="DeathZone" type="Area2D" parent="."]
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(190, 283)
shape = SubResource("RectangleShape2D_jbb60")
debug_color = Color(0.764706, 0.415686, 0.45098, 0.419608)

[node name="CollisionShape2D4" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(179, -101)
shape = SubResource("RectangleShape2D_jbb60")
debug_color = Color(0.764706, 0.415686, 0.45098, 0.419608)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(-185, 95)
shape = SubResource("RectangleShape2D_xl6fj")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(532, 94)
shape = SubResource("RectangleShape2D_xl6fj")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("32_as8vc")
volume_db = -0.415

[connection signal="timeout" from="BG/BGTimer" to="." method="_on_bg_timer_timeout"]
[connection signal="timeout" from="MG/MGTimer" to="." method="_on_mg_timer_timeout"]
[connection signal="timeout" from="FG/FGTimer" to="." method="_on_fg_timer_timeout"]
[connection signal="timeout" from="Control/ScoreLabel/ScoreTimer" to="." method="_on_score_timer_timeout"]
[connection signal="pressed" from="Control/Button" to="." method="_on_button_pressed"]
[connection signal="timeout" from="BuildingGaps" to="." method="_on_building_gaps_timeout"]
[connection signal="body_entered" from="DeathZone" to="." method="_on_death_zone_body_entered"]
