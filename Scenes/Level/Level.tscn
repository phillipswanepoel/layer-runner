[gd_scene load_steps=37 format=3 uid="uid://bms8uuxojgtle"]

[ext_resource type="Script" path="res://Scenes/Level/Level.gd" id="1_2chin"]
[ext_resource type="PackedScene" uid="uid://bsbtm18fhi1fu" path="res://Scenes/Buildings/BuildingFG3_b.tscn" id="2_2n6h5"]
[ext_resource type="PackedScene" uid="uid://dxne21x0ea6ht" path="res://Scenes/Buildings/BuildingFG4_b.tscn" id="3_22bgk"]
[ext_resource type="PackedScene" uid="uid://b2qi7gfk2g4oy" path="res://Scenes/Buildings/BuildingFG5.tscn" id="4_aivki"]
[ext_resource type="PackedScene" uid="uid://ccdgfdwu6vuqj" path="res://Scenes/Buildings/BuildingFG6.tscn" id="5_e7wo7"]
[ext_resource type="PackedScene" uid="uid://bjqq8h4wisnwg" path="res://Scenes/Buildings/BuildingFG7_b.tscn" id="6_te3nu"]
[ext_resource type="PackedScene" uid="uid://dyiom864sked4" path="res://Scenes/Buildings/BuildingFG8_b.tscn" id="7_pga7w"]
[ext_resource type="PackedScene" uid="uid://c6kpmv6vfhhpc" path="res://Scenes/Buildings/BuildingFG1_b.tscn" id="8_d0dc6"]
[ext_resource type="PackedScene" uid="uid://dl8j3e4ff4iuw" path="res://Scenes/Buildings/BuildingMG1.tscn" id="9_cnm3r"]
[ext_resource type="PackedScene" uid="uid://6qtbsycu4utl" path="res://Scenes/Buildings/BuildingMG2_b.tscn" id="10_vh7jd"]
[ext_resource type="PackedScene" uid="uid://d2rh0rl5xx8w2" path="res://Scenes/Buildings/BuildingMG3_b.tscn" id="11_odg6y"]
[ext_resource type="PackedScene" uid="uid://cg40ouic3cm3v" path="res://Scenes/Buildings/BuildingMG4_b.tscn" id="12_oumpo"]
[ext_resource type="PackedScene" uid="uid://b4rp13ga5l4go" path="res://Scenes/Buildings/BuildingMG5.tscn" id="13_t0s5u"]
[ext_resource type="PackedScene" uid="uid://hkt5ccvolabb" path="res://Scenes/Buildings/BuildingMG6.tscn" id="14_q7ouy"]
[ext_resource type="PackedScene" uid="uid://davwwc0gopfu8" path="res://Scenes/Buildings/BuildingBG1.tscn" id="15_jelm3"]
[ext_resource type="PackedScene" uid="uid://d2shuh05agkkb" path="res://Scenes/Buildings/BuildingBG2.tscn" id="16_qs88m"]
[ext_resource type="PackedScene" uid="uid://dhsyra65autqd" path="res://Scenes/Buildings/BuildingBG3.tscn" id="17_0yx3r"]
[ext_resource type="PackedScene" uid="uid://cvdk844k0m0c2" path="res://Scenes/Buildings/BuildingBG4.tscn" id="18_u53gc"]
[ext_resource type="PackedScene" uid="uid://ywh2wiabvugm" path="res://Scenes/Buildings/BuildingBG5.tscn" id="19_s2iv8"]
[ext_resource type="PackedScene" uid="uid://by540i5vyurk6" path="res://Scenes/Buildings/BuildingBG6.tscn" id="20_eh13v"]
[ext_resource type="PackedScene" uid="uid://dck3wqdu83dns" path="res://Scenes/Buildings/BuildingBG7.tscn" id="21_0t053"]
[ext_resource type="PackedScene" uid="uid://cdad8mj0lha77" path="res://Scenes/Entities/Coin.tscn" id="22_4rsrw"]
[ext_resource type="Script" path="res://Scenes/Level/ParallaxBackgroundScroll.gd" id="23_w3gsx"]
[ext_resource type="Texture2D" uid="uid://b1htek331jg1g" path="res://Assets/Backgrounds/Stars Background.png" id="24_cr68d"]
[ext_resource type="Texture2D" uid="uid://cb8w35sl2wgw0" path="res://Assets/Backgrounds/Clouds Background.png" id="25_u1l7k"]
[ext_resource type="Script" path="res://Scenes/Level/PathFollow2D.gd" id="26_gsxy1"]
[ext_resource type="PackedScene" uid="uid://batt6i6cbkfnt" path="res://Scenes/Level/StartBuildingBG.tscn" id="27_rdfu6"]
[ext_resource type="PackedScene" uid="uid://28xnsdqkn3k" path="res://Scenes/Level/StartBuildingMG.tscn" id="28_7s12l"]
[ext_resource type="PackedScene" uid="uid://bwxx1acu6nycg" path="res://Scenes/Level/StartBuilding.tscn" id="29_2fuv8"]
[ext_resource type="PackedScene" uid="uid://jopj67sfeyd4" path="res://Scenes/Entities/Player.tscn" id="30_cg4k8"]
[ext_resource type="PackedScene" uid="uid://cei8wnkygsihh" path="res://Scenes/GUI/LevelGUI.tscn" id="31_5x3ll"]

[sub_resource type="Curve2D" id="Curve2D_jqfty"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 360, 190, 0, 0, 0, 0, -500, 190)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_ooip8"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 360, 180, 0, 0, 0, 0, -500, 180)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_aaxsb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 360, 200, 0, 0, 0, 0, -700, 200)
}
point_count = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jbb60"]
size = Vector2(629.75, 110)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xl6fj"]
size = Vector2(205.5, 380.5)

[node name="Level" type="Node2D"]
script = ExtResource("1_2chin")
fg_buildings = Array[PackedScene]([ExtResource("2_2n6h5"), ExtResource("2_2n6h5"), ExtResource("3_22bgk"), ExtResource("3_22bgk"), ExtResource("4_aivki"), ExtResource("5_e7wo7"), ExtResource("6_te3nu"), ExtResource("6_te3nu"), ExtResource("7_pga7w"), ExtResource("7_pga7w"), ExtResource("8_d0dc6"), ExtResource("8_d0dc6")])
mg_buildings = Array[PackedScene]([ExtResource("9_cnm3r"), ExtResource("10_vh7jd"), ExtResource("11_odg6y"), ExtResource("12_oumpo"), ExtResource("13_t0s5u"), ExtResource("14_q7ouy"), ExtResource("9_cnm3r"), ExtResource("10_vh7jd"), ExtResource("14_q7ouy")])
bg_buildings = Array[PackedScene]([ExtResource("15_jelm3"), ExtResource("16_qs88m"), ExtResource("17_0yx3r"), ExtResource("18_u53gc"), ExtResource("19_s2iv8"), ExtResource("20_eh13v"), ExtResource("21_0t053")])
coin = ExtResource("22_4rsrw")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
script = ExtResource("23_w3gsx")

[node name="Stars" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.05, 0.025)
motion_mirroring = Vector2(320, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Stars"]
texture = ExtResource("24_cr68d")
centered = false

[node name="Clouds" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.1, 0.05)
motion_mirroring = Vector2(320, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Clouds"]
texture = ExtResource("25_u1l7k")
centered = false
offset = Vector2(0, -15)

[node name="BG" type="CanvasLayer" parent="."]
layer = -3
follow_viewport_enabled = true

[node name="BGTimer" type="Timer" parent="BG"]
wait_time = 10.0
one_shot = true
autostart = true

[node name="Path2D" type="Path2D" parent="BG"]
position = Vector2(0, -5)
curve = SubResource("Curve2D_jqfty")

[node name="PathFollow2D" type="PathFollow2D" parent="BG/Path2D"]
position = Vector2(360, 190)
rotation = 3.14159
script = ExtResource("26_gsxy1")

[node name="StartBuilding" parent="BG/Path2D/PathFollow2D" groups=["start"] instance=ExtResource("27_rdfu6")]
position = Vector2(360, 185)
rotation = 3.14159

[node name="CanvasModulate" type="CanvasModulate" parent="BG"]
color = Color(0.517647, 0.482353, 0.611765, 1)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="BG"]
shadow_enabled = true

[node name="MG" type="CanvasLayer" parent="."]
layer = -2
follow_viewport_enabled = true

[node name="MGTimer" type="Timer" parent="MG"]
wait_time = 5.0
one_shot = true
autostart = true

[node name="Path2D" type="Path2D" parent="MG"]
curve = SubResource("Curve2D_ooip8")

[node name="PathFollow2D" type="PathFollow2D" parent="MG/Path2D"]
position = Vector2(360, 180)
rotation = 3.14159
script = ExtResource("26_gsxy1")

[node name="StartBuilding" parent="MG/Path2D/PathFollow2D" groups=["start"] instance=ExtResource("28_7s12l")]
position = Vector2(360, 180)
rotation = 3.14159

[node name="CanvasModulate" type="CanvasModulate" parent="MG"]
color = Color(0.537255, 0.584314, 0.662745, 1)

[node name="FG" type="CanvasLayer" parent="."]
layer = -1
follow_viewport_enabled = true

[node name="FGTimer" type="Timer" parent="FG"]
wait_time = 0.1
one_shot = true
autostart = true

[node name="Path2D" type="Path2D" parent="FG"]
position = Vector2(0, 5)
curve = SubResource("Curve2D_aaxsb")

[node name="PathFollow2D" type="PathFollow2D" parent="FG/Path2D"]
position = Vector2(360, 200)
rotation = 3.14159
script = ExtResource("26_gsxy1")

[node name="StartBuilding" parent="FG/Path2D/PathFollow2D" groups=["start"] instance=ExtResource("29_2fuv8")]
position = Vector2(359, 205)
rotation = 3.14159

[node name="Player" parent="FG" instance=ExtResource("30_cg4k8")]
position = Vector2(26.6667, 63.3333)

[node name="CanvasModulate3" type="CanvasModulate" parent="FG"]
color = Color(0.8, 0.8, 0.8, 1)

[node name="LevelGUI" parent="." instance=ExtResource("31_5x3ll")]

[node name="BuildingGaps" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[node name="DeathZone" type="Area2D" parent="."]
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(190, 283)
shape = SubResource("RectangleShape2D_jbb60")
debug_color = Color(0.764706, 0.415686, 0.45098, 0.419608)

[node name="CollisionShape2D4" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(179, -101)
shape = SubResource("RectangleShape2D_jbb60")
debug_color = Color(0.764706, 0.415686, 0.45098, 0.419608)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(-185, 95)
shape = SubResource("RectangleShape2D_xl6fj")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="DeathZone"]
position = Vector2(532, 94)
shape = SubResource("RectangleShape2D_xl6fj")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(160, 90)

[connection signal="timeout" from="BG/BGTimer" to="." method="_on_bg_timer_timeout"]
[connection signal="timeout" from="MG/MGTimer" to="." method="_on_mg_timer_timeout"]
[connection signal="timeout" from="FG/FGTimer" to="." method="_on_fg_timer_timeout"]
[connection signal="timeout" from="BuildingGaps" to="." method="_on_building_gaps_timeout"]
[connection signal="body_entered" from="DeathZone" to="." method="_on_death_zone_body_entered"]
